/* 
 * Mobile-Specific CSS Fixes
 * Addresses common mobile rendering issues
 */

/* Fix viewport and prevent horizontal scroll */
html {
  overflow-x: hidden;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}

body {
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  -webkit-tap-highlight-color: transparent;
}

/* CSS Custom Properties for mobile viewport */
:root {
  --vh: 1vh; /* Fallback for older browsers */
}

/* Ensure proper mobile scaling */
* {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

/* Fix mobile header issues */
header {
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

/* Improve mobile menu performance */
#mobileMenu {
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  will-change: transform, opacity;
}

/* Fix mobile font rendering */
@media screen and (max-width: 768px) {
  body {
    font-size: 16px; /* Prevent zoom on iOS */
    -webkit-text-size-adjust: 100%;
  }
  
  /* Fix hero section on mobile */
  .hero-section {
    min-height: 100vh;
    min-height: calc(var(--vh, 1vh) * 100); /* Use custom property for dynamic viewport */
  }
  
  /* Ensure proper image scaling */
  img {
    max-width: 100%;
    height: auto;
  }
  
  /* Fix large text on small screens */
  h1 {
    font-size: clamp(2rem, 8vw, 4rem) !important;
    line-height: 1.1;
  }
  
  h2 {
    font-size: clamp(1.25rem, 5vw, 2rem) !important;
    line-height: 1.2;
  }
  
  /* Fix button sizing on mobile */
  .btn {
    min-height: 44px; /* iOS minimum touch target */
    padding: 12px 24px;
  }
  
  /* Fix navigation on mobile */
  .mobile-nav-link {
    min-height: 44px;
    display: flex;
    align-items: center;
  }
  
  /* Prevent horizontal scroll */
  .container,
  .max-w-7xl,
  .max-w-6xl,
  .max-w-5xl {
    margin-left: auto;
    margin-right: auto;
    padding-left: 1rem;
    padding-right: 1rem;
    max-width: 100%;
  }
}

/* Additional iOS Safari fixes */
@supports (-webkit-touch-callout: none) {
  /* iOS specific fixes */
  .fixed {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }
  
  /* Fix iOS viewport height issues */
  .min-h-screen {
    min-height: -webkit-fill-available;
  }
}

/* Fix touch interactions */
button, a, input, textarea, select {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  -webkit-touch-callout: none;
}

/* Improve scrolling performance */
.overflow-scroll,
.overflow-y-scroll,
.overflow-x-scroll {
  -webkit-overflow-scrolling: touch;
}

/* Fix flexbox issues on mobile */
.flex {
  -webkit-flex-wrap: wrap;
  -ms-flex-wrap: wrap;
  flex-wrap: wrap;
}

/* Prevent text from breaking out of containers */
.text-wrap {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* Fix modal and overlay issues on mobile */
.modal,
.overlay {
  -webkit-overflow-scrolling: touch;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

/* Performance optimizations for mobile */
.animate-fade-in,
.animate-pulse,
.transition-all {
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  will-change: transform, opacity;
}
